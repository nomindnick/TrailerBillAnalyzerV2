2025-03-07 04:08:20,190 - regex_test - INFO - Fetching bill text for AB114 (2023)
2025-03-07 04:08:20,191 - src.services.bill_scraper - INFO - Attempting to fetch bill from https://leginfo.legislature.ca.gov/faces/billNavClient.xhtml?bill_id=202320240AB114
2025-03-07 04:08:20,191 - src.services.bill_scraper - INFO - Session string: 20232024
2025-03-07 04:08:20,191 - src.services.bill_scraper - INFO - Full bill ID: 202320240AB114
2025-03-07 04:08:20,191 - src.services.bill_scraper - INFO - Making request with headers:
2025-03-07 04:08:20,191 - src.services.bill_scraper - INFO - {'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8', 'Accept-Language': 'en-US,en;q=0.9', 'Accept-Encoding': 'gzip, deflate, br', 'Cache-Control': 'no-cache', 'Pragma': 'no-cache', 'Sec-Ch-Ua': '"Not_A Brand";v="8", "Chromium";v="120", "Google Chrome";v="120"', 'Sec-Ch-Ua-Mobile': '?0', 'Sec-Ch-Ua-Platform': '"Windows"', 'Sec-Fetch-Dest': 'document', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-Site': 'none', 'Sec-Fetch-User': '?1', 'Upgrade-Insecure-Requests': '1'}
2025-03-07 04:08:21,825 - src.services.bill_scraper - INFO - Response status: 200
2025-03-07 04:08:21,825 - src.services.bill_scraper - INFO - Response headers: <CIMultiDictProxy('Date': 'Fri, 07 Mar 2025 04:08:20 GMT', 'Server': 'Apache', 'Cache-Control': 'no-cache', 'Cache-Control': 'must-revalidate', 'Cache-Control': 'max-age=0', 'Pragma': 'no-cache', 'Content-Type': 'text/html; charset=UTF-8', 'Expires': '-1', 'X-Content-Type-Options': 'nosniff', 'Set-Cookie': 'JSESSIONID=3yBuyjRSBgk4SWWGosdiheoEBwPCorAYi_P_GGg8BMBInV9ew0Vv!-718414823; path=/; HttpOnly', 'Set-Cookie': 'ROUTEID=.2; path=/', 'Transfer-Encoding': 'chunked')>
2025-03-07 04:08:22,010 - src.services.bill_scraper - INFO - Received HTML content of length: 1225348
2025-03-07 04:08:22,293 - src.services.bill_scraper - INFO - Response content length: 1225348
2025-03-07 04:08:22,293 - src.services.bill_scraper - INFO - Contains 'Bill Text' tag: True
2025-03-07 04:08:22,293 - src.services.bill_scraper - INFO - Contains 'Content not found': False
2025-03-07 04:08:22,690 - src.services.bill_scraper - INFO - Successfully parsed bill text of length 131546
2025-03-07 04:08:22,690 - regex_test - INFO - Successfully retrieved bill text (131546 characters)
2025-03-07 04:08:22,691 - regex_test - INFO - Saved raw bill text to 'raw_bill_text.txt'
2025-03-07 04:08:22,691 - regex_test - INFO - Starting regex pattern tests
2025-03-07 04:08:22,692 - regex_test - INFO - Testing pattern: 'Original Bill Section Pattern'
2025-03-07 04:08:22,699 - regex_test - INFO - Pattern 'Original Bill Section Pattern' found 2 matches
2025-03-07 04:08:22,699 - regex_test - INFO - Testing pattern: 'Alternative Pattern 1'
2025-03-07 04:08:22,703 - regex_test - INFO - Pattern 'Alternative Pattern 1' found 3 matches
2025-03-07 04:08:22,704 - regex_test - INFO - Testing pattern: 'Alternative Pattern 2'
2025-03-07 04:08:22,708 - regex_test - INFO - Pattern 'Alternative Pattern 2' found 2 matches
2025-03-07 04:08:22,708 - regex_test - INFO - Testing pattern: 'Section Headers Only'
2025-03-07 04:08:22,708 - regex_test - INFO - Pattern 'Section Headers Only' found 2 matches
2025-03-07 04:08:22,708 - regex_test - INFO - Testing pattern: 'Simple Header Pattern'
2025-03-07 04:08:22,712 - regex_test - INFO - Pattern 'Simple Header Pattern' found 37 matches
2025-03-07 04:08:22,712 - regex_test - INFO - Testing pattern: 'Digest Section Pattern'
2025-03-07 04:08:22,713 - regex_test - INFO - Pattern 'Digest Section Pattern' found 75 matches
2025-03-07 04:08:22,713 - regex_test - INFO - Testing pattern: 'Alternative Digest Pattern'
2025-03-07 04:08:22,719 - regex_test - INFO - Pattern 'Alternative Digest Pattern' found 121 matches
2025-03-07 04:08:22,719 - regex_test - INFO - Testing pattern: 'Section X of the Y Code'
2025-03-07 04:08:22,725 - regex_test - INFO - Pattern 'Section X of the Y Code' found 4 matches
2025-03-07 04:08:22,725 - regex_test - INFO - Testing pattern: 'Y Code Section X'
2025-03-07 04:08:22,889 - regex_test - INFO - Pattern 'Y Code Section X' found 0 matches
2025-03-07 04:08:22,889 - regex_test - INFO - Testing pattern: 'Section Header Format'
2025-03-07 04:08:22,891 - regex_test - INFO - Pattern 'Section Header Format' found 3 matches
2025-03-07 04:08:22,891 - regex_test - INFO - Testing pattern: 'Section Range Format'
2025-03-07 04:08:22,894 - regex_test - INFO - Pattern 'Section Range Format' found 0 matches
2025-03-07 04:08:22,894 - regex_test - INFO - Testing pattern: 'Decimal Section Numbers'
2025-03-07 04:08:22,896 - regex_test - INFO - Pattern 'Decimal Section Numbers' found 2 matches
2025-03-07 04:08:22,896 - regex_test - INFO - Testing pattern: 'Action Type: amended'
2025-03-07 04:08:22,899 - regex_test - INFO - Pattern 'Action Type: amended' found 3 matches
2025-03-07 04:08:22,899 - regex_test - INFO - Testing pattern: 'Action Type: added'
2025-03-07 04:08:22,902 - regex_test - INFO - Pattern 'Action Type: added' found 0 matches
2025-03-07 04:08:22,902 - regex_test - INFO - Testing pattern: 'Action Type: repealed'
2025-03-07 04:08:22,906 - regex_test - INFO - Pattern 'Action Type: repealed' found 0 matches
2025-03-07 04:08:22,906 - regex_test - INFO - Testing pattern: 'Action Type: repealed_and_added'
2025-03-07 04:08:22,910 - regex_test - INFO - Pattern 'Action Type: repealed_and_added' found 0 matches
2025-03-07 04:08:22,910 - regex_test - INFO - Testing pattern: 'Action Type: amended_and_repealed'
2025-03-07 04:08:22,914 - regex_test - INFO - Pattern 'Action Type: amended_and_repealed' found 0 matches
2025-03-07 04:08:22,915 - regex_test - INFO - Saved regex test report to 'regex_test_report.txt'
2025-03-07 04:08:22,919 - regex_test - INFO - Saved detailed test results to 'regex_test_results.json'

REGEX PATTERN TEST SUMMARY
==================================================
Bill: AB114 (2023)
Bill Text Length: 131546 characters

Bill Section Patterns:
2025-03-07 04:08:22,919 - regex_test - INFO - Testing pattern: 'Original Bill Section Pattern'
2025-03-07 04:08:22,923 - regex_test - INFO - Pattern 'Original Bill Section Pattern' found 2 matches
2025-03-07 04:08:22,923 - regex_test - INFO - Testing pattern: 'Alternative Pattern 1'
2025-03-07 04:08:22,926 - regex_test - INFO - Pattern 'Alternative Pattern 1' found 3 matches
2025-03-07 04:08:22,926 - regex_test - INFO - Testing pattern: 'Alternative Pattern 2'
2025-03-07 04:08:22,930 - regex_test - INFO - Pattern 'Alternative Pattern 2' found 2 matches
2025-03-07 04:08:22,930 - regex_test - INFO - Testing pattern: 'Section Headers Only'
2025-03-07 04:08:22,930 - regex_test - INFO - Pattern 'Section Headers Only' found 2 matches
2025-03-07 04:08:22,930 - regex_test - INFO - Testing pattern: 'Simple Header Pattern'
2025-03-07 04:08:22,933 - regex_test - INFO - Pattern 'Simple Header Pattern' found 37 matches
  original: 2 matches
  alt_pattern1: 3 matches
  alt_pattern2: 2 matches
  header_only: 2 matches
  simple_header: 37 matches

Digest Section Patterns:
2025-03-07 04:08:22,933 - regex_test - INFO - Testing pattern: 'Digest Section Pattern'
2025-03-07 04:08:22,934 - regex_test - INFO - Pattern 'Digest Section Pattern' found 75 matches
2025-03-07 04:08:22,934 - regex_test - INFO - Testing pattern: 'Alternative Digest Pattern'
2025-03-07 04:08:22,939 - regex_test - INFO - Pattern 'Alternative Digest Pattern' found 121 matches
  original: 75 matches
  alternative: 121 matches

Check the following files for detailed results:
- regex_test_report.txt - Full text report
- regex_test_results.json - Detailed JSON data
- raw_bill_text.txt - Raw bill text
- regex_test.log - Detailed log
